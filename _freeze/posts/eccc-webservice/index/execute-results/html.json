{
  "hash": "519af2ebbd75b55604f851704fe89018",
  "result": {
    "markdown": "---\ntitle: The return of the webservice\nauthor: Sam Albers\ndate: '2023-04-25'\nslug: eccc-webservice\ncategories:\n  - R\n  - hydrology\n  - tidyhydat\ntags: []\ndescription: ''\nfeatured: ''\nfeaturedalt: ''\nfeaturedpath: ''\nlinktitle: ''\ntype: post\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyhydat)\nlibrary(gt)\nlibrary(dplyr)\n```\n:::\n\n\nThe most common question I get about the tidyhydat package goes something like this: \n\n> how do I get realtime data longer the 30 days available in the datamart via [`realtime_dd`](https://docs.ropensci.org/tidyhydat/reference/realtime_dd.html)?\n\nPreviously the answer was... you can't. The Hydat database is a historical database. It is not updated in realtime. Now, however, Environment and Climate Change Canada (ECCC) does have a [webservice](https://wateroffice.ec.gc.ca/services/links_e.html) that provides realtime data which extends back 18 months. This is enormously useful and it usually spans the gap to get data into HYDAT. And since tidyhydat version 0.6.0 you can now access this data via the `realtime_ws` function. This blog is a quick introduction to some of the usage of that webservice. \n\n## Getting realtime hydrometric data\n\nThe `realtime_ws` function operates in a similar way to the `realtime_dd` function. You can get data for a single station or for a list of stations and the function returns a tibble. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nrealtime_ws(station_number = \"08MF005\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18,081 × 10\n   STATION_NUMBER Date                Name_En  Value Unit  Grade Symbol Approval\n   <chr>          <dttm>              <chr>    <dbl> <chr> <chr> <chr>     <int>\n 1 08MF005        2023-03-27 00:00:00 Water t…  5.05 °C    -1    <NA>         NA\n 2 08MF005        2023-03-27 01:00:00 Water t…  4.32 °C    -1    <NA>         NA\n 3 08MF005        2023-03-27 02:00:00 Water t…  4.03 °C    -1    <NA>         NA\n 4 08MF005        2023-03-27 03:00:00 Water t…  4.01 °C    -1    <NA>         NA\n 5 08MF005        2023-03-27 04:00:00 Water t…  3.81 °C    -1    <NA>         NA\n 6 08MF005        2023-03-27 05:00:00 Water t…  3.65 °C    -1    <NA>         NA\n 7 08MF005        2023-03-27 06:00:00 Water t…  3.6  °C    -1    <NA>         NA\n 8 08MF005        2023-03-27 07:00:00 Water t…  3.37 °C    -1    <NA>         NA\n 9 08MF005        2023-03-27 08:00:00 Water t…  3.3  °C    -1    <NA>         NA\n10 08MF005        2023-03-27 09:00:00 Water t…  3.24 °C    -1    <NA>         NA\n# ℹ 18,071 more rows\n# ℹ 2 more variables: Parameter <dbl>, Code <chr>\n```\n:::\n:::\n\n\n\n## New Parameters\n\nRemoving the French parameters simply for brevity here. This is no slight to French. \n\n\n\n```{.r .cell-code}\nparam_id %>%\n  select(-matches(\"_Fr\")) %>% \n  gt() %>% \n  tab_options(\n    table.font.color = \"white\",\n    table.background.color = \"#231409\", \n    table.font.size = px(12L)\n    ) %>% \n  opt_table_font(stack = \"monospace-code\") \n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"dghympltwh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#dghympltwh table {\n  font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#dghympltwh thead, #dghympltwh tbody, #dghympltwh tfoot, #dghympltwh tr, #dghympltwh td, #dghympltwh th {\n  border-style: none;\n}\n\n#dghympltwh p {\n  margin: 0;\n  padding: 0;\n}\n\n#dghympltwh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #FFFFFF;\n  font-size: 12px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #231409;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#dghympltwh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#dghympltwh .gt_title {\n  color: #FFFFFF;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #231409;\n  border-bottom-width: 0;\n}\n\n#dghympltwh .gt_subtitle {\n  color: #FFFFFF;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #231409;\n  border-top-width: 0;\n}\n\n#dghympltwh .gt_heading {\n  background-color: #231409;\n  text-align: center;\n  border-bottom-color: #231409;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dghympltwh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dghympltwh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dghympltwh .gt_col_heading {\n  color: #FFFFFF;\n  background-color: #231409;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#dghympltwh .gt_column_spanner_outer {\n  color: #FFFFFF;\n  background-color: #231409;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#dghympltwh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#dghympltwh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#dghympltwh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#dghympltwh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#dghympltwh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #FFFFFF;\n  background-color: #231409;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#dghympltwh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #FFFFFF;\n  background-color: #231409;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dghympltwh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#dghympltwh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#dghympltwh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#dghympltwh .gt_stub {\n  color: #FFFFFF;\n  background-color: #231409;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dghympltwh .gt_stub_row_group {\n  color: #FFFFFF;\n  background-color: #231409;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#dghympltwh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#dghympltwh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#dghympltwh .gt_summary_row {\n  color: #FFFFFF;\n  background-color: #231409;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dghympltwh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#dghympltwh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#dghympltwh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dghympltwh .gt_grand_summary_row {\n  color: #FFFFFF;\n  background-color: #231409;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dghympltwh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#dghympltwh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dghympltwh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#dghympltwh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dghympltwh .gt_footnotes {\n  color: #FFFFFF;\n  background-color: #231409;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dghympltwh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dghympltwh .gt_sourcenotes {\n  color: #FFFFFF;\n  background-color: #231409;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dghympltwh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dghympltwh .gt_left {\n  text-align: left;\n}\n\n#dghympltwh .gt_center {\n  text-align: center;\n}\n\n#dghympltwh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#dghympltwh .gt_font_normal {\n  font-weight: normal;\n}\n\n#dghympltwh .gt_font_bold {\n  font-weight: bold;\n}\n\n#dghympltwh .gt_font_italic {\n  font-style: italic;\n}\n\n#dghympltwh .gt_super {\n  font-size: 65%;\n}\n\n#dghympltwh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#dghympltwh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#dghympltwh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#dghympltwh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#dghympltwh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#dghympltwh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#dghympltwh .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Parameter\">Parameter</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Code\">Code</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Unit\">Unit</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Name_En\">Name_En</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Description_En\">Description_En</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">46</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">HG</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water level (primary sensor)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Height, stage, elevation of the water surface at a specified station above some arbitrary zero datum</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">16</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">HG2</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water level (secondary sensor, telemetry)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Height, stage, additional secondary water level reading at the specified station, telemetry signal</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">11</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">HG22</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water level (secondary sensor)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Height, stage, additional secondary water level reading at the specified station</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">52</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">HG3</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water level (tertiary sensor, telemetry)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Height, stage, additional tertiary water level reading at the specified station, telemetry signal</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">13</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">HG33</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water level (tertiary sensor)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Height, stage, additional tertiary water level reading at the specified station</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">3</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">HGD</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water level (daily mean)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Provisional Daily Water Level</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">39</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">HGH</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water level (hourly mean)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Provisional hourly water level</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">14</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">HL</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Elevation, natural lake</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Elevation, natural lake</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">42</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">HR</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Elevation, lake or reservoir rule curve</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Elevation, lake or reservoir rule curve</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">17</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">PA</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">kPa</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Atmospheric pressure</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Pressure, atmospheric</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">18</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">PC</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">mm</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Accumulated precipitation</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Precipitation, accumulator - summation of precipitation collected beginning at a specified date</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">19</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">PP</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">mm</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Incremental precipitation</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Precipitation, actual increment - discrete increase in precipitation amount over a specified duration (includes liquid amount of new snowfall)</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">47</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">QR</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m3/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Discharge (primary sensor derived)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Discharge - flow measured at points along a stream</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">7</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">QR2</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m3/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Discharge (secondary sensor derived)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Discharge, derived from secondary water level</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">10</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">QR3</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m3/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Discharge (tertiary sensor derived)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Discharge, derived from tertiary water level</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">6</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">QRD</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m3/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Discharge (daily mean)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Provisional Daily Water Level</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">40</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">QRH</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m3/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Discharge (hourly mean)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Provisional Hourly Discharge</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">8</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">QRS</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m3/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Discharge (sensor)</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Discharge measured by sensor</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">50</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">SD</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">cm</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Snow depth</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Snow, depth - actual depth of snow on the ground at any instant during a storm, or after any single snowstorm or series of storms</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">51</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">SF</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">cm</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Snow depth, new snowfall</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Snow, depth, new snowfall - incremental depth of snow on the ground at any instant since last snow depth observation</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">1</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">TA</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">°C</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Air temperature</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Temperature, air, wet bulb</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">5</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">TW</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">°C</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water temperature</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Temperature, temperature of water at a specified depth</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">41</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">TW2</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">°C</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Secondary water temperature</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Temperature, additional secondary water temperature reading at the specified station</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">34</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">UD</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">deg</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Wind direction</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Wind, direction - direction most frequently observed during a given period</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">35</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">US</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Wind speed</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Wind, speed - velocity of air in motion relative to the surface of the earth</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">2</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">VB</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">V</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Battery voltage</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Battery voltage</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">20</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WB</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">RFU</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Blue-green algae</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, blue-green algae</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">21</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WC</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">S</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Conductance</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, conductance</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">26</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WLA</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">mg/l</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Total dissolved solids</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, total dissolved solids</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">43</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WNB</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">mg/l</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Dissolved nitrate</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, dissolved nitrate (NO3-)</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">22</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WO</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">mg/l</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Dissolved oxygen</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, dissolved oxygen - amount of oxygen dissolved in water</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">24</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WP</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">NA</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">pH</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, pH</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">25</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WT</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">NTU</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Turbidity</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, turbidity</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">9</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WV</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water velocity</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, velocity - velocity of particles of water in a stream</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">37</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WVX</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water velocity, x</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, velocity - velocity of particles of water in the x vector component</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">38</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WVY</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m/s</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Water velocity, y</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, velocity of particles of water in the y vector component</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">23</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WX</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">%</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Oxygen saturation</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, dissolved oxygen</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">49</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">WY</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">ug/L</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Chlorophyll</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Water, chlorophyll</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">28</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">XR</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">%</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Relative humidity</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Humidity, relative - ratio of the actual vapor pressure of the air to the saturation vapor pressure expressed in percent</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">36</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">YE</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">m</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Cell end</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Distance, cell end</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">YI</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">°C</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Internal equipment temperature</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Internal equipment temperature</td></tr>\n    <tr><td headers=\"Parameter\" class=\"gt_row gt_right\">12</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">YP</td>\n<td headers=\"Unit\" class=\"gt_row gt_left\">psi</td>\n<td headers=\"Name_En\" class=\"gt_row gt_left\">Tank pressure</td>\n<td headers=\"Description_En\" class=\"gt_row gt_left\">Tank pressure</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n\n\nSo once you chosen your measure you can see if your station has data for that measure. So a good first step is to grab all the stations that are also reporting in realtime\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstations <- realtime_stations()\nstations\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2,054 × 6\n   STATION_NUMBER STATION_NAME   LATITUDE LONGITUDE PROV_TERR_STATE_LOC TIMEZONE\n   <chr>          <chr>             <dbl>     <dbl> <chr>               <chr>   \n 1 01AD003        ST. FRANCIS R…     47.2     -69.0 NB                  UTC-04:…\n 2 01AD004        SAINT JOHN RI…     47.4     -68.3 NB                  UTC-04:…\n 3 01AF002        SAINT JOHN RI…     47.0     -67.7 NB                  UTC-04:…\n 4 01AF007        GRANDE RIVIER…     47.2     -67.9 NB                  UTC-04:…\n 5 01AF009        IROQUOIS RIVE…     47.5     -68.4 NB                  UTC-04:…\n 6 01AG003        AROOSTOOK RIV…     46.8     -67.8 NB                  UTC-04:…\n 7 01AH002        TOBIQUE RIVER…     47.2     -67.2 NB                  UTC-04:…\n 8 01AJ003        MEDUXNEKEAG R…     46.2     -67.7 NB                  UTC-04:…\n 9 01AJ004        BIG PRESQUE I…     46.4     -67.7 NB                  UTC-04:…\n10 01AJ010        BECAGUIMEC ST…     46.3     -67.5 NB                  UTC-04:…\n# ℹ 2,044 more rows\n```\n:::\n:::\n\n\nOk so 2054 stations are reporting in realtime. There is no direct way to see \n\n::: {.cell}\n\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}